(this.webpackJsonpsupport=this.webpackJsonpsupport||[]).push([[0],{136:function(e,t,n){e.exports=n(293)},145:function(e,t,n){},146:function(e,t,n){},159:function(e,t,n){},293:function(e,t,n){"use strict";n.r(t);var r,a=n(0),s=n.n(a),o=n(50),u=n(27),i=n(20),l=n(18),c=n(35),d=n(123),m=n(10),E=n(5),p=n.n(E);!function(e){e.GET_ALL_QUESTIONS="GET_ALL_QUESTIONS",e.GET_QUESTION="GET_QUESTION",e.GET_ANSWERS="GET_ANSWERS"}(r||(r={}));var f,h=function(e){return function(t){var n;return p.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p.a.awrap(v(e));case 3:n=a.sent,t({type:r.GET_QUESTION,question:n.data.results}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.error(a.t0);case 10:case"end":return a.stop()}}),null,null,[[0,7]])}},w=function(){return new Promise((function(e,t){setTimeout((function(){e({status:200,"content-type":"application/json",data:{results:g}})}),250)}))},v=function(e){return new Promise((function(t,n){setTimeout((function(){var n=void 0,r=!0,a=!1,s=void 0;try{for(var o,u=g[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){if(void 0!==(n=o.value.questions.find((function(t){return t.questionId===e}))))break}}catch(i){a=!0,s=i}finally{try{r||null==u.return||u.return()}finally{if(a)throw s}}t({status:200,"content-type":"application/json",data:{results:n}})}),250)}))},g=[{title:"General settings",questions:[{questionId:11,text:"Why promocode hasn't been applied?",words:[],answers:[111,112,114]}]},{title:"Taxes",questions:[{questionId:21,text:"Which promocode do we apply?",words:[],answers:[]},{questionId:22,text:"Which promocode for client do we apply?",words:[],answers:[111]}]},{title:"Client settings",questions:[{questionId:31,text:"Does client has promocode?",words:[],answers:[222]},{questionId:32,text:"What promocode do we use?",words:[],answers:[114]},{questionId:33,text:"Why taxes are less than 5%?",words:[],answers:[111,114]},{questionId:34,text:"When do we do something?",words:[],answers:[113]}]}],S={questionGroups:[],question:void 0,loading:!1,adding:!1},y=n(80);!function(e){e.GET_ALL_ANSWERS="GET_ALL_ANSWERS",e.GET_ANSWER="GET_ANSWER",e.ADD_ANSWER="ADD_ANSWER",e.EDIT_ANSWER="EDIT_ANSWER",e.REMOVE_ANSWER="REMOVE_ANSWER",e.STORE_ANSWER="STORE_ANSWER",e.CANCEL_ANSWER="CANCEL_ANSWER"}(f||(f={}));var b=function(){return new Promise((function(e,t){setTimeout((function(){e({status:200,"content-type":"application/json",data:{results:A}})}),50)}))},x=function(e){return new Promise((function(t,n){setTimeout((function(){t({status:200,"content-type":"application/json",data:{results:e}})}),50)}))},q=function(e){return new Promise((function(t,n){setTimeout((function(){t({status:200,"content-type":"application/json",data:{results:e}})}),50)}))},N=function(e){return new Promise((function(t,n){setTimeout((function(){t({status:200,"content-type":"application/json",data:{results:e}})}),50)}))},A=[{answerId:111,text:"You should do the following",options:[]},{answerId:112,text:"Also do the rest of important",options:[]},{answerId:113,text:"Try something else",options:[]},{answerId:114,text:"Contact our support",options:[]}],I={answerId:0,text:"",options:[]},R={answers:[],loading:!1,formMode:"display"},T=Object(c.c)({questionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.GET_ALL_QUESTIONS:var n=!0,a=!1,s=void 0;try{for(var o,u=t.questionGroups[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var i=o.value,l=!0,c=!1,d=void 0;try{for(var E,p=i.questions[Symbol.iterator]();!(l=(E=p.next()).done);l=!0){var f=E.value;f.words=f.text.split(" ")}}catch(h){c=!0,d=h}finally{try{l||null==p.return||p.return()}finally{if(c)throw d}}}}catch(h){a=!0,s=h}finally{try{n||null==u.return||u.return()}finally{if(a)throw s}}return Object(m.a)({},e,{questionGroups:t.questionGroups});case r.GET_QUESTION:return Object(m.a)({},e,{question:t.question});default:return e}},answerState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.GET_ALL_ANSWERS:return Object(m.a)({},e,{answers:t.answers});case f.ADD_ANSWER:return Object(m.a)({},e,{formMode:"add",answer:Object(m.a)({},I,{answerId:0===e.answers.length?1:Math.max.apply(Math,Object(y.a)(e.answers.map((function(e){return e.answerId}))))+1})});case f.GET_ANSWER:return Object(m.a)({},e,{answer:t.answer});case f.EDIT_ANSWER:return Object(m.a)({},e,{formMode:"edit",answer:t.answer});case f.STORE_ANSWER:var n=[];return n="add"===e.formMode?[].concat(Object(y.a)(e.answers),[t.answer]):e.answers.map((function(e){return e.answerId===t.answer.answerId?t.answer:e})),Object(m.a)({},e,{formMode:"edit",answers:n});case f.CANCEL_ANSWER:return Object(m.a)({},e,{formMode:"display"});case f.REMOVE_ANSWER:return Object(m.a)({},e,{formMode:"display",answers:e.answers.filter((function(e){return e.answerId!==t.answerId}))});default:return e}}});n(145),n(146);var _=n(134),O=n(124),W=n(125),j=n(133),C=n(126),k=n(135),G=n(127),M=n.n(G),L=n(128),Q=n.n(L),D=n(129),F=n.n(D);n(159);var B=M.a,V=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(j.a)(this,Object(C.a)(t).call(this,e))).state=void 0,n.onSuggestionsClearRequested=function(){n.setState({suggestions:[]})},n.anyWord=function(e,t){var n=!0,r=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var u=s.value,i=!0,l=!1,c=void 0;try{for(var d,m=t[Symbol.iterator]();!(i=(d=m.next()).done);i=!0){var E=d.value;if(u.test(E))return!0}}catch(p){l=!0,c=p}finally{try{i||null==m.return||m.return()}finally{if(l)throw c}}}}catch(p){r=!0,a=p}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return!1},n.state={value:"",suggestions:n.getSuggestions(""),highlighted:""},n}return Object(k.a)(t,e),Object(W.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.value,r=t.suggestions;return a.createElement(B,{onSuggestionsClearRequested:this.onSuggestionsClearRequested,multiSection:!0,suggestions:r,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested.bind(this),onSuggestionSelected:this.onSuggestionSelected.bind(this),getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,renderSectionTitle:this.renderSectionTitle,getSectionSuggestions:this.getSectionSuggestions,onSuggestionHighlighted:this.onSuggestionHighlighted.bind(this),highlightFirstSuggestion:!0,renderSuggestionsContainer:this.renderSuggestionsContainer,inputProps:{placeholder:"Type 'promocode'",value:n,onChange:function(t,n){return e.onChange(t,n)}}})}},{key:"onSuggestionSelected",value:function(e,t){var n=t.suggestion;this.props.onSelectQuestion(n.questionId)}},{key:"renderSuggestion",value:function(e,t){var n=Q()(e.text,t.query),r=F()(e.text,n);return a.createElement("span",null,r.map((function(e,t){var n=e.highlight?"react-autosuggest__suggestion-match":void 0;return a.createElement("span",{className:n,key:t},e.text)})))}},{key:"renderSectionTitle",value:function(e){return a.createElement("strong",null,e.title)}},{key:"renderInputComponent",value:function(e){e.onChange,e.onBlur;var t=Object(_.a)(e,["onChange","onBlur"]);return a.createElement("div",null,a.createElement("input",t))}},{key:"renderSuggestionsContainer",value:function(e){var t=e.containerProps,n=e.children;e.query;return a.createElement("div",t,a.createElement("span",null,n))}},{key:"onChange",value:function(e,t){var n=t.newValue;t.method;this.setState({value:n})}},{key:"onSuggestionsFetchRequested",value:function(e){var t=e.value;this.setState({suggestions:this.getSuggestions(t)})}},{key:"getSuggestions",value:function(e){var t=this,n=e.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(""===n)return[];var r=n.split(" ").map((function(e){return new RegExp(e,"i")}));return this.props.questionGroups.map((function(e){return{title:e.title,questions:e.questions.filter((function(e){return t.anyWord(r,e.words)}))}})).filter((function(e){return e.questions.length>0}))}},{key:"getSuggestionValue",value:function(e){return e.text}},{key:"getSectionSuggestions",value:function(e){return e.questions}},{key:"onSuggestionHighlighted",value:function(e){this.setState({highlighted:e.suggestion})}}]),t}(a.Component),P=n(54),U=n(21),H=function(e){var t=e.questionAnswers;return a.createElement("div",{className:"name-container"},0===t.length&&a.createElement("div",null,"No answers yet"),t.length>0&&a.createElement("table",null,a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"Answer"),a.createElement("th",null),a.createElement("th",null))),a.createElement("tbody",null,t.map((function(e){return a.createElement("tr",null,a.createElement("td",{key:e.answerId,className:"name"},e.text),a.createElement("td",null,"edit"),a.createElement("td",null,"remove"))})))))},J=function(e){var t=Object(P.a)({enableReinitialize:!0,initialValues:{text:e.question.text,answers:e.question.answers,email:""},validationSchema:U.object({text:U.string().max(150,"Must be 150 characters or less").required("Required"),answers:U.string().max(20,"Must be 20 characters or less").required("Required"),email:U.string().email("Invalid email address").required("Required")}),onSubmit:function(e){alert(JSON.stringify(e,null,2))}});return s.a.createElement("form",{onSubmit:t.handleSubmit},s.a.createElement("label",{htmlFor:"text"}),s.a.createElement("input",{id:"text",name:"text",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.text}),t.touched.text&&t.errors.text?s.a.createElement("div",null,t.errors.text):null,s.a.createElement("br",null),s.a.createElement(H,{question:e.question,questionAnswers:e.questionAnswers}))},z=function(e){var t=e.questionGroups,n=e.question,r=e.questionAnswers,s=e.onSelectQuestion;return a.createElement("div",{className:"name-container"},a.createElement("div",{className:"two-columns"},a.createElement("div",{className:"a"},a.createElement(V,{questionGroups:t,onSelectQuestion:s})),a.createElement("div",{className:"b"},t&&n&&a.createElement("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"10px"}},a.createElement("h4",{style:{marginTop:0}},"Question"),a.createElement(J,{question:n,questionAnswers:r})))))},$=function(e,t){if(void 0===e||0===e.answers.length||void 0===t)return[];var n=e.answers;return t.filter((function(e){return n.includes(e.answerId)}))},Y=Object(l.b)((function(e){return{questionGroups:e.questionState.questionGroups,question:e.questionState.question,questionAnswers:$(e.questionState.question,e.answerState.answers),answers:e.answerState.answers}}),(function(e){return{onSelectQuestion:function(t){return e(h(t))}}}))(z),K=function(){return a.createElement(a.Fragment,null,a.createElement("h2",{style:{textAlign:"center"}},"Questions & Answers"),a.createElement(Y,null))},X=n(75),Z=n(79),ee=function(e){var t=Object(P.a)({enableReinitialize:!0,initialValues:{fromMode:e.formMode,answerId:e.answer.answerId,text:e.answer.text,options:e.answer.options},validationSchema:U.object({text:U.string().max(150,"Must be 150 characters or less").required("Required")}),onSubmit:function(t){e.saveForm(t,e.formMode)}});return s.a.createElement("form",{onSubmit:t.handleSubmit},s.a.createElement("label",{htmlFor:"answerId"}),s.a.createElement("input",{id:"answerId",name:"answerId",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.answerId,readOnly:!0}),t.touched.answerId&&t.errors.answerId?s.a.createElement("div",null,t.errors.answerId):null,s.a.createElement("label",{htmlFor:"text"}),s.a.createElement("input",{id:"text",name:"text",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.text}),t.touched.text&&t.errors.text?s.a.createElement("div",null,t.errors.text):null,s.a.createElement("button",{onClick:function(){return e.cancel()}},"Cancel"),s.a.createElement("button",{type:"submit"},"Save"))},te=function(e){Object(i.f)().slug;var t=e.answers,n=e.answer,r=e.formMode,s=e.add,o=e.edit,u=e.remove,l=e.cancel,c=e.saveForm;return a.createElement("div",{className:"name-container"},"",0===t.length&&a.createElement("div",null,"No answers at all"),t.length>0&&a.createElement("div",{className:"two-columns"},a.createElement("div",{className:"a"},a.createElement("table",null,a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"Id"),a.createElement("th",null,"Answer"),a.createElement("th",null),a.createElement("th",null))),a.createElement("tbody",null,t.map((function(e){return a.createElement("tr",{key:e.answerId},a.createElement("td",{className:"name"},e.answerId),a.createElement("td",{className:"name"},e.text),a.createElement("td",null,a.createElement("button",{className:"button-edit",title:"Add a new Answer",onClick:function(){return o(e.answerId)}},a.createElement(X.a,{icon:Z.a,color:"lightblue"}))),a.createElement("td",null,a.createElement("button",{className:"button-remove",title:"Remove Answer",onClick:function(){return u(e.answerId)}},a.createElement(X.a,{icon:Z.b,color:"lightblue"}))))})))),a.createElement("button",{onClick:function(){return s()}},"Add new")),a.createElement("div",{className:"b"},"add"===r&&a.createElement("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"10px"}},a.createElement("h4",{style:{marginTop:0}},"New Answer"),a.createElement(ee,{answer:n,formMode:r,cancel:l,saveForm:function(e){return c(e,r)}})),"edit"===r&&a.createElement("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"10px"}},a.createElement("h4",{style:{marginTop:0}},"New Answer"),a.createElement(ee,{answer:n,formMode:r,cancel:l,saveForm:function(e){return c(e,r)}})))))},ne=Object(l.b)((function(e){return{answers:e.answerState.answers,answer:e.answerState.answer,formMode:e.answerState.formMode}}),(function(e){return{add:function(){return e((function(e){try{e({type:f.ADD_ANSWER})}catch(t){console.error(t)}}))},edit:function(t){return e(function(e){return function(t){var n,r;return p.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p.a.awrap(b());case 3:n=a.sent,r=n.data.results,t({type:f.EDIT_ANSWER,answer:r.find((function(t){return t.answerId===e}))}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.error(a.t0);case 11:case"end":return a.stop()}}),null,null,[[0,8]])}}(t))},remove:function(t){return e(function(e){return function(t){return p.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,p.a.awrap(N(e));case 3:t({type:f.REMOVE_ANSWER,answerId:e}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.error(n.t0);case 9:case"end":return n.stop()}}),null,null,[[0,6]])}}(t))},saveForm:function(t,n){return e(function(e,t){return function(n){return p.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,"add"!==t){r.next=7;break}return r.next=4,p.a.awrap(x(e));case 4:n({type:f.STORE_ANSWER,answer:e}),r.next=10;break;case 7:return r.next=9,p.a.awrap(q(e));case 9:n({type:f.STORE_ANSWER,answer:e});case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),console.error(r.t0);case 15:case"end":return r.stop()}}),null,null,[[0,12]])}}(t,n))},cancel:function(){return e((function(e){try{e({type:f.CANCEL_ANSWER})}catch(t){console.error(t)}}))}}}))(te),re=function(e){var t=e.questionGroups,n=e.question,r=e.questionAnswers,s=e.onSelectQuestion;return a.createElement("div",{className:"name-container"},a.createElement("div",{className:"two-columns"},a.createElement("div",{className:"a"},a.createElement(V,{questionGroups:t,onSelectQuestion:s})),a.createElement("div",{className:"b"},t&&n&&a.createElement("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"10px"}},a.createElement("h4",{style:{marginTop:0}},"Question"),a.createElement(J,{question:n,questionAnswers:r})))),a.createElement("hr",null),a.createElement("h4",{style:{textAlign:"center"}},"Maintenance (visible only for Admins) "),a.createElement("div",{className:"two-columns"},a.createElement("div",{className:"a"},a.createElement("h3",null,"All Questions by sections"),t&&t.map((function(e){return a.createElement("div",{key:e.title,style:{paddingBottom:"5px"}},a.createElement("div",null,e.title),a.createElement("div",null,e.questions.map((function(e){return a.createElement("div",{key:e.questionId,className:"name"},a.createElement("button",{className:"question-button",onClick:function(){return s(e.questionId)}},e.text))}))))}))),a.createElement("div",{className:"b"})))},ae=function(e,t){if(void 0===e||0===e.answers.length||void 0===t)return[];var n=e.answers;return t.filter((function(e){return n.includes(e.answerId)}))},se=Object(l.b)((function(e){return{questionGroups:e.questionState.questionGroups,question:e.questionState.question,questionAnswers:ae(e.questionState.question,e.answerState.answers),answers:e.answerState.answers}}),(function(e){return{onSelectQuestion:function(t){return e(h(t))}}}))(re),oe=Object(c.d)(T,void 0,Object(c.a)(d.a));oe.dispatch((function(e){var t;return p.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,p.a.awrap(w());case 3:t=n.sent,e({type:r.GET_ALL_QUESTIONS,questionGroups:t.data.results}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]])})),oe.dispatch((function(e){var t;return p.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,p.a.awrap(b());case 3:t=n.sent,e({type:f.GET_ALL_ANSWERS,answers:t.data.results}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]])})),o.render(s.a.createElement((function(e){return s.a.createElement(l.a,{store:e.store},s.a.createElement(u.a,null,s.a.createElement("nav",null,s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement(u.b,{to:"/"},"Supporter")),s.a.createElement("li",null,s.a.createElement(u.b,{to:"/questions"},"Questions")),s.a.createElement("li",null,s.a.createElement(u.b,{to:"/answers/pera"},"Answers")),s.a.createElement("li",{className:"push-right"},s.a.createElement(u.b,{to:"/answers/pera"},"Sign In")))),s.a.createElement("div",null,s.a.createElement(i.c,null,s.a.createElement(i.a,{exact:!0,path:"/"},s.a.createElement(K,null)),s.a.createElement(i.a,{path:"/questions"},s.a.createElement(se,null)),s.a.createElement(i.a,{path:"/answers/:slug"},s.a.createElement(ne,null))))))}),{store:oe}),document.getElementById("root"))}},[[136,1,2]]]);
//# sourceMappingURL=main.7d427740.chunk.js.map