(this.webpackJsonpsupport=this.webpackJsonpsupport||[]).push([[0],{143:function(e,t,n){e.exports=n(331)},152:function(e,t,n){},153:function(e,t,n){},302:function(e,t,n){},331:function(e,t,n){"use strict";n.r(t);var r,a=n(40),o=n(0),s=n.n(o),u=n(60),i=n(32),c=n(25),l=n(31),d=n(41),m=n(139),p=n(5),E=n(1),f=n(3),g=n.n(f);!function(e){e.GET_ALL_QUESTIONS="GET_ALL_QUESTIONS",e.GET_QUESTION="GET_QUESTION",e.ADD_QUESTION="ADD_QUESTION",e.EDIT_QUESTION="EDIT_QUESTION",e.REMOVE_QUESTION="REMOVE_QUESTION",e.STORE_QUESTION="STORE_QUESTION",e.CANCEL_QUESTION="CANCEL_QUESTION",e.ADD_GROUP="ADD_GROUP",e.EDIT_GROUP="EDIT_GROUP",e.REMOVE_GROUP="REMOVE_GROUP",e.STORE_GROUP="STORE_GROUP",e.REMOVE_QUESTION_ANSWER="REMOVE_QUESTION_ANSWER",e.ASSIGN_QUESTION_ANSWER="ASSIGN_QUESTION_ANSWER",e.STORE_QUESTIONS_TO_LOCAL_STORAGE="STORE_QUESTIONS_TO_LOCAL_STORAGE"}(r||(r={}));var v,S=function(){return"localStorage"in window},h=function(e){var t=JSON.parse(e);N=t},b=function(e){return function(t){var n;return g.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,g.a.awrap(w(e));case 3:n=a.sent,t({type:r.GET_QUESTION,question:n.data.results}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.error(a.t0);case 10:case"end":return a.stop()}}),null,null,[[0,7]])}},O=function(){return new Promise((function(e,t){setTimeout((function(){e({status:200,"content-type":"application/json",data:{results:1}})}),50)}))},w=function(e){return new Promise((function(t,n){setTimeout((function(){var n=void 0,r=!0,a=!1,o=void 0;try{for(var s,u=N[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){if(void 0!==(n=s.value.questions.find((function(t){return t.questionId===e}))))break}}catch(i){a=!0,o=i}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}t({status:200,"content-type":"application/json",data:{results:n}})}),100)}))},y=function(){return new Promise((function(e,t){setTimeout((function(){e({status:200,"content-type":"application/json",data:{results:N}})}),250)}))},I=function(e){return new Promise((function(t,n){setTimeout((function(){t({status:200,"content-type":"application/json",data:{results:e}})}),50)}))},T="SUPPORT_QUESTIONS",N=[],x=[{groupId:11,title:"General settings",questions:[{groupId:11,questionId:101,text:"Why promocode hasn't been applied?",words:[],answers:[111,112,114]}]},{groupId:22,title:"Taxes",questions:[{groupId:22,questionId:201,text:"Which promocode do we apply?",words:[],answers:[]},{groupId:22,questionId:202,text:"Which promocode for client do we apply?",words:[],answers:[111]}]},{groupId:33,title:"Client settings",questions:[{groupId:33,questionId:301,text:"Does client has promocode?",words:[],answers:[222]},{groupId:33,questionId:302,text:"What promocode do we use?",words:[],answers:[114]},{groupId:33,questionId:303,text:"Why taxes are less than 5%?",words:[],answers:[111,114]},{groupId:33,questionId:304,text:"When do we do something?",words:[],answers:[113]}]}],q={groupId:0,questionId:0,text:"",words:[],answers:[]},_={groupId:0,title:"",questions:[]},A={questionGroups:[],question:void 0,loading:!1,formMode:"display",groupIdEditing:0};!function(e){e.GET_ALL_ANSWERS="GET_ALL_ANSWERS",e.GET_ANSWER="GET_ANSWER",e.ADD_ANSWER="ADD_ANSWER",e.EDIT_ANSWER="EDIT_ANSWER",e.REMOVE_ANSWER="REMOVE_ANSWER",e.STORE_ANSWER="STORE_ANSWER",e.CANCEL_ANSWER="CANCEL_ANSWER",e.STORE_ANSWERS_TO_LOCAL_STORAGE="STORE_ANSWERS_TO_LOCAL_STORAGE"}(v||(v={}));var R=function(){return"localStorage"in window},j=function(){return new Promise((function(e,t){setTimeout((function(){e({status:200,"content-type":"application/json",data:{results:D}})}),50)}))},C=function(e){return new Promise((function(t,n){setTimeout((function(){t({status:200,"content-type":"application/json",data:{results:e}})}),50)}))},k=function(e){return new Promise((function(t,n){setTimeout((function(){t({status:200,"content-type":"application/json",data:{results:e}})}),50)}))},G=function(e){return new Promise((function(t,n){setTimeout((function(){t({status:200,"content-type":"application/json",data:{results:e}})}),50)}))},U="SUPPORT_ANSWERS",D=[],M=[{answerId:111,text:"You should do the following",words:[],options:[]},{answerId:112,text:"Also do the rest of important",words:[],options:[]},{answerId:113,text:"Try something else",words:[],options:[]},{answerId:114,text:"Contact our support",words:[],options:[]},{answerId:115,text:"Do whatever you want!",words:[],options:[]},{answerId:116,text:"Jump through the window.",words:[],options:[]}],Q={answerId:0,text:"",words:[],options:[]},L={answers:[],loading:!1,formMode:"display"},W=Object(d.c)({questionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.GET_ALL_QUESTIONS:var n=!0,a=!1,o=void 0;try{for(var s,u=t.questionGroups[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var i=s.value,c=!0,l=!1,d=void 0;try{for(var m,f=i.questions[Symbol.iterator]();!(c=(m=f.next()).done);c=!0){var g=m.value;g.words=g.text.split(" ")}}catch(v){l=!0,d=v}finally{try{c||null==f.return||f.return()}finally{if(l)throw d}}}}catch(v){a=!0,o=v}finally{try{n||null==u.return||u.return()}finally{if(a)throw o}}return Object(E.a)({},e,{questionGroups:t.questionGroups});case r.GET_QUESTION:return Object(E.a)({},e,{question:t.question});case r.ADD_QUESTION:return Object(E.a)({},e,{formMode:"add",question:Object(E.a)({},q,{groupId:t.groupId,questionId:t.questionId})});case r.EDIT_QUESTION:return Object(E.a)({},e,{formMode:"edit",question:Object(E.a)({},t.question)});case r.STORE_QUESTION:return"add"===e.formMode?Object(E.a)({},e,{formMode:"edit",questionGroups:e.questionGroups.map((function(e){return e.groupId!==t.question.groupId?Object(E.a)({},e,{questions:Object(p.a)(e.questions)}):Object(E.a)({},e,{questions:[].concat(Object(p.a)(e.questions),[Object(E.a)({},t.question)])})}))}):Object(E.a)({},e,{formMode:"edit",questionGroups:e.questionGroups.map((function(e){return e.groupId!==t.question.groupId?Object(E.a)({},e,{questions:Object(p.a)(e.questions)}):Object(E.a)({},e,{questions:e.questions.map((function(e){return e.questionId!==t.question.questionId?e:Object(E.a)({},t.question)}))})}))});case r.CANCEL_QUESTION:return Object(E.a)({},e,{formMode:"display"});case r.REMOVE_QUESTION:return Object(E.a)({},e,{formMode:"display",question:void 0,questionGroups:e.questionGroups.map((function(e){return e.groupId!==t.groupId?Object(E.a)({},e,{questions:Object(p.a)(e.questions)}):Object(E.a)({},e,{questions:e.questions.filter((function(e){return e.questionId!==t.questionId}))})}))});case r.REMOVE_QUESTION_ANSWER:return Object(E.a)({},e,{questionGroups:e.questionGroups.map((function(e){return e.groupId!==t.groupId?Object(E.a)({},e,{questions:Object(p.a)(e.questions)}):Object(E.a)({},e,{questions:e.questions.map((function(e){return e.questionId!==t.questionId?Object(E.a)({},e,{answers:Object(p.a)(e.answers)}):Object(E.a)({},e,{answers:e.answers.filter((function(e){return e!==t.answerId}))})}))})}))});case r.ASSIGN_QUESTION_ANSWER:return Object(E.a)({},e,{questionGroups:e.questionGroups.map((function(e){return e.groupId!==t.groupId?Object(E.a)({},e,{questions:Object(p.a)(e.questions)}):Object(E.a)({},e,{questions:e.questions.map((function(e){return e.questionId!==t.questionId?Object(E.a)({},e,{answers:Object(p.a)(e.answers)}):Object(E.a)({},e,{answers:[].concat(Object(p.a)(e.answers),[t.answerId])})}))})}))});case r.ADD_GROUP:return Object(E.a)({},e,{groupIdEditing:t.groupId,questionGroups:[].concat(Object(p.a)(e.questionGroups),[Object(E.a)({},_,{title:"New Section",groupId:t.groupId})])});case r.EDIT_GROUP:return Object(E.a)({},e,{groupIdEditing:t.group.groupId});case r.STORE_GROUP:return Object(E.a)({},e,{groupIdEditing:0,questionGroups:e.questionGroups.map((function(e){return e.groupId!==t.group.groupId?e:Object(E.a)({},e,{title:t.group.title})}))});case r.REMOVE_GROUP:return Object(E.a)({},e,{questionGroups:e.questionGroups.reduce((function(e,n){return n.groupId!==t.groupId&&e.push(Object(E.a)({},n,{questions:Object(p.a)(n.questions)})),e}),[])});case r.STORE_QUESTIONS_TO_LOCAL_STORAGE:return localStorage.setItem(T,JSON.stringify(e.questionGroups)),h(JSON.stringify(e.questionGroups)),e;default:return e}},answerState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.GET_ALL_ANSWERS:return Object(E.a)({},e,{answers:t.answers.map((function(e){return Object(E.a)({},e,{words:e.text.split(" ")})}))});case v.GET_ANSWER:return Object(E.a)({},e,{answer:t.answer});case v.ADD_ANSWER:return Object(E.a)({},e,{formMode:"add",answer:Object(E.a)({},Q,{answerId:0===e.answers.length?1:Math.max.apply(Math,Object(p.a)(e.answers.map((function(e){return e.answerId}))))+1})});case v.EDIT_ANSWER:return Object(E.a)({},e,{formMode:"edit",answer:Object(E.a)({},t.answer,{words:t.answer.text.split(" ")})});case v.STORE_ANSWER:var n=[];return n="add"===e.formMode?[].concat(Object(p.a)(e.answers),[Object(E.a)({},t.answer,{words:t.answer.text.split(" ")})]):e.answers.map((function(e){return e.answerId===t.answer.answerId?Object(E.a)({},t.answer,{words:t.answer.text.split(" ")}):e})),Object(E.a)({},e,{formMode:"edit",answers:n});case v.CANCEL_ANSWER:return Object(E.a)({},e,{formMode:"display"});case v.REMOVE_ANSWER:return Object(E.a)({},e,{formMode:"display",answers:e.answers.filter((function(e){return e.answerId!==t.answerId}))});case v.STORE_ANSWERS_TO_LOCAL_STORAGE:return localStorage.setItem(U,JSON.stringify(e.answers)),e;default:return e}}});n(152),n(153);var F=n(62),P=n(63),V=n(70),B=n(64),H=n(71),J=n(65),z=n.n(J),$=n(66),K=n.n($),Y=n(67),X=n.n(Y);n(94);var Z=z.a,ee=function(e){function t(e){var n;return Object(F.a)(this,t),(n=Object(V.a)(this,Object(B.a)(t).call(this,e))).state=void 0,n.onSuggestionsClearRequested=function(){n.setState({suggestions:[]})},n.anyWord=function(e,t){var n=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value,i=!0,c=!1,l=void 0;try{for(var d,m=t[Symbol.iterator]();!(i=(d=m.next()).done);i=!0){var p=d.value;if(u.test(p))return!0}}catch(E){c=!0,l=E}finally{try{i||null==m.return||m.return()}finally{if(c)throw l}}}}catch(E){r=!0,a=E}finally{try{n||null==s.return||s.return()}finally{if(r)throw a}}return!1},n.state={value:"",suggestions:n.getSuggestions(""),highlighted:""},n}return Object(H.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.value,r=t.suggestions;return o.createElement(Z,{onSuggestionsClearRequested:this.onSuggestionsClearRequested,multiSection:!0,suggestions:r,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested.bind(this),onSuggestionSelected:this.onSuggestionSelected.bind(this),getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,renderSectionTitle:this.renderSectionTitle,getSectionSuggestions:this.getSectionSuggestions,onSuggestionHighlighted:this.onSuggestionHighlighted.bind(this),highlightFirstSuggestion:!0,renderSuggestionsContainer:this.renderSuggestionsContainer,inputProps:{placeholder:"Type 'promocode'",value:n,onChange:function(t,n){return e.onChange(t,n)}}})}},{key:"onSuggestionSelected",value:function(e,t){var n=t.suggestion;this.props.onSelectQuestion(n.questionId)}},{key:"renderSuggestion",value:function(e,t){var n=K()(e.text,t.query),r=X()(e.text,n);return o.createElement("span",null,r.map((function(e,t){var n=e.highlight?"react-autosuggest__suggestion-match":void 0;return o.createElement("span",{className:n,key:t},e.text)})))}},{key:"renderSectionTitle",value:function(e){return o.createElement("strong",null,e.title)}},{key:"renderInputComponent",value:function(e){e.onChange,e.onBlur;var t=Object(a.a)(e,["onChange","onBlur"]);return o.createElement("div",null,o.createElement("input",t))}},{key:"renderSuggestionsContainer",value:function(e){var t=e.containerProps,n=e.children;e.query;return o.createElement("div",t,o.createElement("span",null,n))}},{key:"onChange",value:function(e,t){var n=t.newValue;t.method;this.setState({value:n})}},{key:"onSuggestionsFetchRequested",value:function(e){var t=e.value;this.setState({suggestions:this.getSuggestions(t)})}},{key:"getSuggestions",value:function(e){var t=this,n=e.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(""===n)return[];var r=n.split(" ").map((function(e){return new RegExp(e,"i")}));return this.props.questionGroups.map((function(e){return{groupId:e.groupId,title:e.title,questions:e.questions.filter((function(e){return t.anyWord(r,e.words)}))}})).filter((function(e){return e.questions.length>0}))}},{key:"getSuggestionValue",value:function(e){return e.text}},{key:"getSectionSuggestions",value:function(e){return e.questions}},{key:"onSuggestionHighlighted",value:function(e){this.setState({highlighted:e.suggestion})}}]),t}(o.Component),te=n(23),ne=n(14),re=n(9),ae=n(10);var oe=z.a,se=function(e){function t(e){var n;return Object(F.a)(this,t),(n=Object(V.a)(this,Object(B.a)(t).call(this,e))).state=void 0,n.onSuggestionsClearRequested=function(){n.setState({suggestions:[]})},n.anyWord=function(e,t){var n=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value,i=!0,c=!1,l=void 0;try{for(var d,m=t[Symbol.iterator]();!(i=(d=m.next()).done);i=!0){var p=d.value;if(u.test(p))return!0}}catch(E){c=!0,l=E}finally{try{i||null==m.return||m.return()}finally{if(c)throw l}}}}catch(E){r=!0,a=E}finally{try{n||null==s.return||s.return()}finally{if(r)throw a}}return!1},n.state={value:"",suggestions:n.getSuggestions(""),highlighted:""},n}return Object(H.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.value,r=t.suggestions;return o.createElement(oe,{onSuggestionsClearRequested:this.onSuggestionsClearRequested,multiSection:!1,suggestions:r,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested.bind(this),onSuggestionSelected:this.onSuggestionSelected.bind(this),getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,onSuggestionHighlighted:this.onSuggestionHighlighted.bind(this),highlightFirstSuggestion:!0,renderSuggestionsContainer:this.renderSuggestionsContainer,inputProps:{placeholder:"Type 'contact'",value:n,onChange:function(t,n){return e.onChange(t,n)}}})}},{key:"onSuggestionSelected",value:function(e,t){var n=t.suggestion;this.props.assignQuestionAnswer(this.props.question.groupId,this.props.question.questionId,n.answerId)}},{key:"renderSuggestion",value:function(e,t){var n=K()(e.text,t.query),r=X()(e.text,n);return o.createElement("span",null,r.map((function(e,t){var n=e.highlight?"react-autosuggest__suggestion-match":void 0;return o.createElement("span",{className:n,key:t},e.text)})))}},{key:"renderInputComponent",value:function(e){e.onChange,e.onBlur;var t=Object(a.a)(e,["onChange","onBlur"]);return o.createElement("div",null,o.createElement("input",t))}},{key:"renderSuggestionsContainer",value:function(e){var t=e.containerProps,n=e.children;e.query;return o.createElement("div",t,o.createElement("span",null,n))}},{key:"onChange",value:function(e,t){var n=t.newValue;t.method;this.setState({value:n})}},{key:"onSuggestionsFetchRequested",value:function(e){var t=e.value;this.setState({suggestions:this.getSuggestions(t)})}},{key:"getSuggestions",value:function(e){var t=this,n=e.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(""===n)return[];var r=n.split(" ").map((function(e){return new RegExp(e,"i")}));return this.props.answersUnassigned.filter((function(e){return t.anyWord(r,e.words)}))}},{key:"getSuggestionValue",value:function(e){return e.text}},{key:"onSuggestionHighlighted",value:function(e){this.setState({highlighted:e.suggestion})}}]),t}(o.Component),ue=function(e){var t=e.question,n=e.questionAnswers,r=e.answers,a=e.canEdit,s=e.formMode,u=e.removeQuestionAnswer,i=e.assignQuestionAnswer,c=null===r||void 0===r?void 0:r.filter((function(e){return!t.answers.includes(e.answerId)}));return o.createElement("div",{className:"name-container"},0===n.length&&o.createElement("div",null,"No answers yet"),n.length>0&&o.createElement(o.Fragment,null,o.createElement("table",null,o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,"Answers"),a&&"display"!==s&&o.createElement("th",null))),o.createElement("tbody",null,n.map((function(e){return o.createElement("tr",{key:e.answerId},o.createElement("td",{className:"name"},e.text),a&&"display"!==s&&o.createElement("td",null,o.createElement("button",{className:"button-remove",title:"Remove Answer",onClick:function(n){n.stopPropagation(),n.preventDefault(),u(t.groupId,t.questionId,e.answerId)}},o.createElement(re.a,{icon:ae.b,color:"lightblue"}))))})),a&&"display"!==s&&o.createElement("tr",null,o.createElement("td",null,o.createElement(se,{question:t,answersUnassigned:c,assignQuestionAnswer:i})),o.createElement("td",null))))))},ie=function(e){var t=Object(te.a)({enableReinitialize:!0,initialValues:{groupId:e.question.groupId,questionId:e.question.questionId,text:e.question.text,answers:e.question.answers},validationSchema:ne.object({text:ne.string().max(150,"Must be 150 characters or less").required("Required")}),onSubmit:function(t){e.saveForm(t,e.formMode)}});return s.a.createElement(s.a.Fragment,null,s.a.createElement("form",{onSubmit:t.handleSubmit},s.a.createElement("label",{htmlFor:"text"}),s.a.createElement("input",{id:"questionId",name:"questionId",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.questionId,disabled:!0,style:{width:"50px"}}),t.touched.questionId&&t.errors.questionId?s.a.createElement("div",null,t.errors.questionId):null,s.a.createElement("label",{htmlFor:"text"}),s.a.createElement("input",{id:"text",name:"text",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.text,multiple:!0}),t.touched.text&&t.errors.text?s.a.createElement("div",null,t.errors.text):null,e.canEdit&&s.a.createElement("button",{onClick:function(){return e.cancel()}},"Cancel"),e.canEdit&&s.a.createElement("button",{type:"submit"},"Save")),s.a.createElement("br",null),s.a.createElement(ue,{question:e.question,questionAnswers:e.questionAnswers,answers:e.answers,canEdit:e.canEdit,formMode:e.formMode,removeQuestionAnswer:e.removeQuestionAnswer,assignQuestionAnswer:e.assignQuestionAnswer}))},ce=function(e){var t=Object(te.a)({enableReinitialize:!0,initialValues:{groupId:e.question.groupId,questionId:e.question.questionId,text:e.question.text,answers:e.question.answers},validationSchema:ne.object({text:ne.string().max(150,"Must be 150 characters or less").required("Required")}),onSubmit:function(e){}});return s.a.createElement("form",{onSubmit:t.handleSubmit},s.a.createElement("label",{htmlFor:"text"}),s.a.createElement("input",{id:"questionId",name:"questionId",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.questionId,disabled:!0,style:{width:"50px"}}),t.touched.questionId&&t.errors.questionId?s.a.createElement("div",null,t.errors.questionId):null,s.a.createElement("label",{htmlFor:"text"}),s.a.createElement("input",{id:"text",name:"text",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.text,disabled:!0}),t.touched.text&&t.errors.text?s.a.createElement("div",null,t.errors.text):null,s.a.createElement("br",null),s.a.createElement(ue,{question:e.question,questionAnswers:e.questionAnswers,canEdit:e.canEdit,formMode:e.formMode}),e.canEdit&&s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{onClick:function(){return e.edit()}},"Edit"),s.a.createElement("button",{onClick:function(){return e.remove()}},"Remove")))},le=n(13);function de(){var e=Object(o.useState)({isHovered:!1}),t=Object(le.a)(e,2),n=t[0],r=t[1],a=Object(o.useRef)(null),s=function(){return r({isHovered:!0})},u=function(){return r({isHovered:!1})};return Object(o.useEffect)((function(){var e=a.current;if(e)return e.addEventListener("mouseenter",(function(){return s()})),e.addEventListener("mouseleave",(function(){return u()})),console.log("usao"),function(){e.removeEventListener("mouseenter",(function(){return s()})),e.removeEventListener("mouseleave",(function(){return u()})),console.log("izasao")}}),[a.current]),[a,n]}var me,pe=function(e){var t=de(),n=Object(le.a)(t,2),r=n[0],a=n[1],s=e.question,u=e.onSelectQuestion,i=e.edit,c=e.remove,l=s.groupId,d=s.questionId;return o.createElement("div",{ref:r,className:"name"},o.createElement("button",{className:"question-button",onClick:function(){return u(d)}},s.text),a.isHovered&&o.createElement("button",{className:"button-edit",title:"Edit",onClick:function(){return i(l,d)}},o.createElement(re.a,{icon:ae.a,color:"lightblue"})),a.isHovered&&o.createElement("button",{className:"button-remove",title:"Remove",onClick:function(){return c(l,d)}},o.createElement(re.a,{icon:ae.b,color:"lightblue"})))},Ee=function(e){var t=de(),n=Object(le.a)(t,2),r=n[0],a=n[1],s=e.questionGroup,u=e.editGroup,i=e.removeGroup;return o.createElement("div",{ref:r,key:s.groupId,className:"name"},s.title,a.isHovered&&o.createElement("button",{className:"button-edit",title:"Edit Section",onClick:function(){return u(s.groupId)}},o.createElement(re.a,{icon:ae.a,color:"lightblue"})),a.isHovered&&0===s.questions.length&&o.createElement("button",{className:"button-remove",title:"Remove Section",onClick:function(){return i(s.groupId)}},o.createElement(re.a,{icon:ae.b,color:"lightblue"})))},fe=function(e){var t=e.questionGroups,n=e.question,r=e.questionAnswers,a=e.answers,s=e.formMode,u=e.groupIdEditing,i=e.onSelectQuestion,c=e.add,l=e.edit,d=e.remove,m=e.cancel,p=e.saveForm,f=e.canEdit,g=e.addGroup,v=e.editGroup,S=e.removeGroup,h=e.storeGroup,b=e.removeQuestionAnswer,O=e.assignQuestionAnswer,w=Object(o.useRef)(null);return setTimeout((function(){null!==w.current&&(w.current.select(),w.current.focus())}),100),o.createElement("div",{className:"name-container"},o.createElement("div",{className:"two-columns"},o.createElement("div",{className:"a"},o.createElement(ee,{questionGroups:t,onSelectQuestion:i})),o.createElement("div",{className:"b"})),o.createElement("hr",null),o.createElement("h4",{style:{textAlign:"center"}},"Maintenance (visible only for Admins) "),o.createElement("div",{className:"two-columns"},o.createElement("div",{className:"a"},o.createElement("h3",null,"All Questions by sections"),t&&t.map((function(e){return o.createElement("div",{key:e.groupId,style:{paddingBottom:"5px"}},o.createElement("div",null,u===e.groupId&&o.createElement("input",{ref:w,name:"groupTitle",type:"text",onBlur:function(t){return h(Object(E.a)({},e,{title:t.target.value}))},defaultValue:e.title}),u!==e.groupId&&o.createElement(Ee,{questionGroup:e,editGroup:v,removeGroup:S})),o.createElement("div",null,e.questions.map((function(e){return o.createElement(pe,{key:e.questionId,question:e,onSelectQuestion:i,edit:l,remove:d})})),o.createElement("div",{style:{marginLeft:"5%"}},o.createElement("button",{className:"button-add",title:"Add a new Question",onClick:function(){return c(e.groupId)}},"Add a new Question"))))})),o.createElement("div",{style:{marginLeft:"1%"}},o.createElement("button",{className:"button-add-group",title:"Add a new Section",onClick:function(){return g()}},"Add a new Section"))),o.createElement("div",{className:"b"},t&&n&&o.createElement("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"10px"}},o.createElement("h4",{style:{marginTop:0}},"Question"),"display"===s?o.createElement(ce,{question:n,questionAnswers:r,answers:a,formMode:s,canEdit:f,edit:function(){return l(n.groupId,n.questionId)},remove:function(){return d(n.groupId,n.questionId)},removeQuestionAnswer:b,assignQuestionAnswer:O}):o.createElement(ie,{question:n,questionAnswers:r,answers:a,formMode:s,cancel:m,saveForm:function(e){return p(e,s)},canEdit:f,removeQuestionAnswer:b,assignQuestionAnswer:O})))))},ge=function(e){var t=e.questionGroups,n=e.question,r=e.questionAnswers,a=e.answers,s=e.formMode,u=e.onSelectQuestion,i=e.cancel,c=e.saveForm,l=e.canEdit,d=e.removeQuestionAnswer,m=e.assignQuestionAnswer;return o.createElement("div",{className:"name-container"},o.createElement("div",{className:"two-columns"},o.createElement("div",{className:"a"},o.createElement(ee,{questionGroups:t,onSelectQuestion:u})),o.createElement("div",{className:"b"},t&&n&&o.createElement("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"10px"}},o.createElement("h4",{style:{marginTop:0}},"Question"),o.createElement(ie,{question:n,questionAnswers:r,answers:a,formMode:s,cancel:i,saveForm:function(e){return c(e,s)},canEdit:l,removeQuestionAnswer:d,assignQuestionAnswer:m})))))},ve=function(e,t){if(void 0===e||0===e.answers.length||void 0===t)return[];var n=e.answers;return t.filter((function(e){return n.includes(e.answerId)}))},Se=function(e,t){return{questionGroups:e.questionState.questionGroups,question:e.questionState.question,questionAnswers:ve(e.questionState.question,e.answerState.answers),answers:e.answerState.answers,formMode:e.questionState.formMode,groupIdEditing:e.questionState.groupIdEditing,canEdit:t.canEdit}},he=function(e){return{onSelectQuestion:function(t){return e(b(t))},add:function(t){return e((n=t,function(e){var t,a,o,s,u,i,c,l,d,m;return g.a.async((function(E){for(;;)switch(E.prev=E.next){case 0:return E.prev=0,E.next=3,g.a.awrap(y());case 3:for(t=E.sent,a=t.data.results,o=0,s=!0,u=!1,i=void 0,E.prev=9,c=a[Symbol.iterator]();!(s=(l=c.next()).done);s=!0)d=l.value,(m=Math.max.apply(Math,Object(p.a)(d.questions.map((function(e){return e.questionId})))))>o&&(o=m);E.next=17;break;case 13:E.prev=13,E.t0=E.catch(9),u=!0,i=E.t0;case 17:E.prev=17,E.prev=18,s||null==c.return||c.return();case 20:if(E.prev=20,!u){E.next=23;break}throw i;case 23:return E.finish(20);case 24:return E.finish(17);case 25:e({type:r.ADD_QUESTION,groupId:n,questionId:o+1}),E.next=31;break;case 28:E.prev=28,E.t1=E.catch(0),console.error(E.t1);case 31:case"end":return E.stop()}}),null,null,[[0,28],[9,13,17,25],[18,,20,24]])}));var n},edit:function(t,n){return e(function(e,t){return function(e){var n;return g.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,g.a.awrap(w(t));case 3:n=a.sent,e({type:r.EDIT_QUESTION,question:n.data.results}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.error(a.t0);case 10:case"end":return a.stop()}}),null,null,[[0,7]])}}(0,n))},remove:function(t,n){return e(function(e,t){return function(n){return g.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,g.a.awrap(O());case 3:n({type:r.REMOVE_QUESTION,groupId:e,questionId:t}),S()&&n({type:r.STORE_QUESTIONS_TO_LOCAL_STORAGE}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.error(a.t0);case 10:case"end":return a.stop()}}),null,null,[[0,7]])}}(t,n))},saveForm:function(t,n){return e(function(e,t){return function(n){return g.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,"add"!==t){a.next=7;break}return a.next=4,g.a.awrap(O());case 4:n({type:r.STORE_QUESTION,question:e}),a.next=10;break;case 7:return a.next=9,g.a.awrap(O());case 9:n({type:r.STORE_QUESTION,question:e});case 10:S()&&n({type:r.STORE_QUESTIONS_TO_LOCAL_STORAGE}),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),console.error(a.t0);case 16:case"end":return a.stop()}}),null,null,[[0,13]])}}(t,n))},cancel:function(){return e((function(e){try{e({type:r.CANCEL_QUESTION})}catch(t){console.error(t)}}))},addGroup:function(){return e((function(e){var t,n,a;return g.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,g.a.awrap(y());case 3:t=o.sent,n=t.data.results,a=Math.max.apply(Math,Object(p.a)(n.map((function(e){return e.groupId})))),e({type:r.ADD_GROUP,groupId:a+1}),S()&&e({type:r.STORE_QUESTIONS_TO_LOCAL_STORAGE}),o.next=13;break;case 10:o.prev=10,o.t0=o.catch(0),console.error(o.t0);case 13:case"end":return o.stop()}}),null,null,[[0,10]])}))},editGroup:function(t){return e(function(e){return function(t){var n,a,o;return g.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,g.a.awrap(y());case 3:n=s.sent,a=n.data.results,o=a.find((function(t){return t.groupId===e})),t({type:r.EDIT_GROUP,group:JSON.parse(JSON.stringify(o))}),s.next=12;break;case 9:s.prev=9,s.t0=s.catch(0),console.error(s.t0);case 12:case"end":return s.stop()}}),null,null,[[0,9]])}}(t))},removeGroup:function(t){return e(function(e){return function(t){return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.a.awrap(O());case 3:t({type:r.REMOVE_GROUP,groupId:e}),S()&&t({type:r.STORE_QUESTIONS_TO_LOCAL_STORAGE}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]])}}(t))},storeGroup:function(t){return e(function(e){return function(t){return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.a.awrap(I(e));case 3:t({type:r.STORE_GROUP,group:e}),S()&&t({type:r.STORE_QUESTIONS_TO_LOCAL_STORAGE}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]])}}(t))},removeQuestionAnswer:function(t,n,a){return e(function(e,t,n){return function(a){return g.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,g.a.awrap(O());case 3:a({type:r.REMOVE_QUESTION_ANSWER,groupId:e,questionId:t,answerId:n}),S()&&a({type:r.STORE_QUESTIONS_TO_LOCAL_STORAGE}),a(b(t)),o.next=11;break;case 8:o.prev=8,o.t0=o.catch(0),console.error(o.t0);case 11:case"end":return o.stop()}}),null,null,[[0,8]])}}(t,n,a))},assignQuestionAnswer:function(t,n,a){return e(function(e,t,n){return function(a){return g.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,g.a.awrap(O());case 3:a({type:r.ASSIGN_QUESTION_ANSWER,groupId:e,questionId:t,answerId:n}),S()&&a({type:r.STORE_QUESTIONS_TO_LOCAL_STORAGE}),a(b(t)),o.next=11;break;case 8:o.prev=8,o.t0=o.catch(0),console.error(o.t0);case 11:case"end":return o.stop()}}),null,null,[[0,8]])}}(t,n,a))}}},be={questions:Object(l.b)(Se,he)(fe),promoter:Object(l.b)(Se,he)(ge)},Oe=function(){return o.createElement(o.Fragment,null,o.createElement("h2",{style:{textAlign:"center"}},"Questions & Answers"),o.createElement(be.promoter,{canEdit:!1}))},we=n(298)("#666ee8"),ye=function(e){var t=Object(te.a)({enableReinitialize:!0,initialValues:{fromMode:e.formMode,answerId:e.answer.answerId,text:e.answer.text,options:e.answer.options},validationSchema:ne.object({text:ne.string().max(150,"Must be 150 characters or less").required("Required")}),onSubmit:function(t){e.saveForm(t,e.formMode)}});return s.a.createElement("form",{onSubmit:t.handleSubmit},"add"!==e.formMode&&s.a.createElement(s.a.Fragment,null,s.a.createElement("label",{htmlFor:"answerId"}),s.a.createElement("input",{id:"answerId",name:"answerId",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.answerId,disabled:!0,style:{width:"50px"}}),t.touched.answerId&&t.errors.answerId?s.a.createElement("div",null,t.errors.answerId):null),s.a.createElement("label",{htmlFor:"text"}),s.a.createElement("input",{id:"text",name:"text",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.text}),t.touched.text&&t.errors.text?s.a.createElement("div",null,t.errors.text):null,s.a.createElement("button",{onClick:function(){return e.cancel()}},"Cancel"),s.a.createElement("button",{type:"submit"},"Save"))},Ie=function(e){return s.a.createElement("div",{style:{height:"100%"},className:"formik-example formik-example--blue"},s.a.createElement("div",{style:{height:"100%",background:we.blue[5],padding:"4rem 2rem"}},s.a.createElement("div",{style:{borderRadius:"4px",boxShadow:"0 8px 16px rgba(0,0,0,.2)",background:"#fff",maxWidth:400,margin:"0 auto",padding:"2rem"}},s.a.createElement("div",{className:"formik-example formik-example--blue"},s.a.createElement(ye,e)))))},Te=function(e){Object(c.f)().slug;var t=e.answers,n=e.answer,r=e.formMode,a=e.add,s=e.edit,u=e.remove,i=e.cancel,l=e.saveForm;return o.createElement("div",{className:"name-container"},"",0===t.length&&o.createElement("div",null,"No answers at all"),t.length>0&&o.createElement("div",{className:"two-columns"},o.createElement("div",{className:"a"},o.createElement("table",null,o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,"Id"),o.createElement("th",null,"Answer"),o.createElement("th",null),o.createElement("th",null))),o.createElement("tbody",null,t.map((function(t){return o.createElement("tr",{key:t.answerId},o.createElement("td",{className:"name"},t.answerId),o.createElement("td",{className:"name"},t.text),o.createElement("td",null,o.createElement("button",{className:"button-edit",title:"Add a new Answer",onClick:function(){return s(t.answerId)}},o.createElement(re.a,{icon:ae.a,color:"lightblue"}))),o.createElement("td",null,o.createElement("button",{disabled:e.usedAnswers.includes(t.answerId),className:"button-remove",title:"Remove Answer",onClick:function(){return u(t.answerId)}},o.createElement(re.a,{icon:ae.b,color:"lightblue"}))))})))),o.createElement("button",{onClick:function(){return a()}},"Add new")),o.createElement("div",{className:"b"},"add"===r&&o.createElement("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"10px"}},o.createElement("h4",{style:{marginTop:0}},"New Answer"),o.createElement(Ie,{answer:n,formMode:r,cancel:i,saveForm:function(e){return l(e,r)}})),"edit"===r&&o.createElement("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"10px"}},o.createElement("h4",{style:{marginTop:0}},"Edit Answer"),o.createElement(Ie,{answer:n,formMode:r,cancel:i,saveForm:function(e){return l(e,r)}})))))},Ne=function(e){var t=[],n=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value,i=!0,c=!1,l=void 0;try{for(var d,m=u.questions[Symbol.iterator]();!(i=(d=m.next()).done);i=!0){var p=d.value;t=t.concat(p.answers)}}catch(E){c=!0,l=E}finally{try{i||null==m.return||m.return()}finally{if(c)throw l}}}}catch(E){r=!0,a=E}finally{try{n||null==s.return||s.return()}finally{if(r)throw a}}return t},xe=Object(l.b)((function(e){return{answers:e.answerState.answers,answer:e.answerState.answer,formMode:e.answerState.formMode,usedAnswers:Ne(e.questionState.questionGroups)}}),(function(e){return{add:function(){return e((function(e){try{e({type:v.ADD_ANSWER})}catch(t){console.error(t)}}))},edit:function(t){return e(function(e){return function(t){var n,r;return g.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,g.a.awrap(j());case 3:n=a.sent,r=n.data.results,t({type:v.EDIT_ANSWER,answer:r.find((function(t){return t.answerId===e}))}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.error(a.t0);case 11:case"end":return a.stop()}}),null,null,[[0,8]])}}(t))},remove:function(t){return e(function(e){return function(t){return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.a.awrap(G(e));case 3:t({type:v.REMOVE_ANSWER,answerId:e}),R()&&t({type:v.STORE_ANSWERS_TO_LOCAL_STORAGE}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]])}}(t))},saveForm:function(t,n){return e(function(e,t){return function(n){return g.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,"add"!==t){r.next=7;break}return r.next=4,g.a.awrap(C(e));case 4:n({type:v.STORE_ANSWER,answer:e}),r.next=10;break;case 7:return r.next=9,g.a.awrap(k(e));case 9:n({type:v.STORE_ANSWER,answer:e});case 10:R()&&n({type:v.STORE_ANSWERS_TO_LOCAL_STORAGE}),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),console.error(r.t0);case 16:case"end":return r.stop()}}),null,null,[[0,13]])}}(t,n))},cancel:function(){return e((function(e){try{e({type:v.CANCEL_ANSWER})}catch(t){console.error(t)}}))}}}))(Te);!function(e){e.STUDENT_GET_ALL="STUDENT_GET_ALL",e.STUDENT_SET_LOADING="STUDENT_SET_LOADING",e.STUDENT_ADD="STUDENT_ADD",e.STUDENT_GET="STUDENT_GET",e.STUDENT_EDIT="STUDENT_EDIT",e.STUDENT_REMOVE="STUDENT_REMOVE",e.STUDENT_STORE="STUDENT_STORE",e.STUDENT_CANCEL="STUDENT_CANCEL"}(me||(me={}));var qe,_e=function(e){return{type:me.STUDENT_SET_LOADING,loading:e}},Ae=function(e){return{type:me.STUDENT_EDIT,student:je.find((function(t){return t.entityId===e}))}},Re=function(e){return{type:me.STUDENT_REMOVE,entityId:e}},je=[{entityId:101,name:"",firstName:"Piter",lastName:"Fonda",email:"piter@gmail.com",url:"/student/"},{entityId:102,name:"",firstName:"Ana",lastName:"Karenjina",email:"ana@gmail.com",url:"/student/"},{entityId:103,name:"",firstName:"Jack",lastName:"Daniels",email:"jack@gmail.com",url:"/student/"},{entityId:104,name:"",firstName:"Robert",lastName:"De Niro",email:"robi@gmail.com",url:"/student/"}],Ce=function(e){var t=JSON.parse(e);je=t},ke={entityId:0,name:"",firstName:"",lastName:"",email:"",url:""},Ge=function(e,t){switch(t.type){case me.STUDENT_GET_ALL:return Object(E.a)({},e,{students:t.students});case me.STUDENT_SET_LOADING:return Object(E.a)({},e,{loading:t.loading});case me.STUDENT_GET:return Object(E.a)({},e,{student:t.student});case me.STUDENT_ADD:return Object(E.a)({},e,{formMode:"add",student:Object(E.a)({},ke,{entityId:t.entityId})});case me.STUDENT_EDIT:return Object(E.a)({},e,{formMode:"edit",student:Object(E.a)({},t.student)});case me.STUDENT_REMOVE:return Ce(JSON.stringify(e.students.filter((function(e){return e.entityId!==t.entityId})))),Object(E.a)({},e,{formMode:"display",student:void 0,students:e.students.filter((function(e){return e.entityId!==t.entityId}))});case me.STUDENT_STORE:var n=[];return n="add"===e.formMode?[].concat(Object(p.a)(e.students),[Object(E.a)({},t.student)]):e.students.map((function(e){return e.entityId===t.student.entityId?Object(E.a)({},t.student):e})),Ce(JSON.stringify(n)),Object(E.a)({},e,{formMode:"edit",student:Object(E.a)({},t.student),students:n});case me.STUDENT_CANCEL:return Object(E.a)({},e,{formMode:"display"});default:throw new Error("Unhandled action type: ".concat(t.type))}},Ue={students:[],loading:!1,formMode:"display",canEdit:!0},De=function(e){var t=e.children,n=Object(o.useReducer)(Ge,Ue),r=Object(le.a)(n,2),a=r[0],u=r[1];return void 0===qe&&(qe=Object(o.createContext)({state:a,dispatch:u})),s.a.createElement(qe.Provider,{value:{state:a,dispatch:u}},t)},Me=function(){return Object(o.useContext)(qe)};var Qe=function(e){var t=e.student,n=t.entityId,r=t.name,a=t.url,u=t.email,i=function(){var e=Object(o.useState)({isHovered:!1}),t=Object(le.a)(e,2),n=t[0],r=t[1],a=Object(o.useRef)(null),s=function(){return r({isHovered:!0})},u=function(){return r({isHovered:!1})};return Object(o.useEffect)((function(){var e=a.current;if(e)return e.addEventListener("mouseenter",(function(){return s()})),e.addEventListener("mouseleave",(function(){return u()})),console.log("usao"),function(){e.removeEventListener("mouseenter",(function(){return s()})),e.removeEventListener("mouseleave",(function(){return u()})),console.log("izasao")}}),[a.current]),[a,n]}(),c=Object(le.a)(i,2),l=c[0],d=c[1];return s.a.createElement("li",{key:n},s.a.createElement("ul",{className:"ul-line",ref:l},s.a.createElement("li",null,n),s.a.createElement("li",null,s.a.createElement("a",{href:a},r)),s.a.createElement("li",null,u),s.a.createElement("li",null,d.isHovered&&s.a.createElement("button",{className:"button-edit",title:"Edit",onClick:function(){return e.dispatch(Ae(n))}},s.a.createElement(re.a,{icon:ae.a,color:"lightblue"})),d.isHovered&&s.a.createElement("button",{className:"button-remove",title:"Remove",onClick:function(){e.dispatch(Re(n))}},s.a.createElement(re.a,{icon:ae.b,color:"lightblue"})))))},Le=function(e){var t=Me(),n=t.state,r=t.dispatch;return s.a.useEffect((function(){r(_e(!0)),r(function(){var e=je.map((function(e){return Object(E.a)({},e,{name:e.firstName.trim()+" "+e.lastName.trim()})}));return{type:me.STUDENT_GET_ALL,students:Object(p.a)(e)}}()),r(_e(!1))}),[r,e.query]),s.a.createElement("div",null,s.a.createElement("h3",null,"Students"),s.a.createElement("ul",{className:"ul-row"},n.students.map((function(e){return s.a.createElement(Qe,{dispatch:r,student:e,key:e.entityId})}))),s.a.createElement("button",{onClick:function(){return r({type:me.STUDENT_ADD,entityId:0===je.length?1:Math.max.apply(Math,Object(p.a)(je.map((function(e){return e.entityId}))))+1})}},"Add new"))},We=function(e){var t=Object(te.a)({enableReinitialize:!0,initialValues:{fromMode:e.formMode,canEdit:e.canEdit,entityId:e.student.entityId,url:e.student.url,firstName:e.student.firstName,lastName:e.student.lastName,name:e.student.name,email:e.student.email},validationSchema:ne.object({firstName:ne.string().max(150,"Must be 150 characters or less").required("Required")}),onSubmit:function(t){t.name=t.firstName.trim()+" "+t.lastName.trim(),e.saveForm(t)}});return s.a.createElement("form",{onSubmit:t.handleSubmit},"add"!==e.formMode&&s.a.createElement(s.a.Fragment,null,s.a.createElement("label",{htmlFor:"entityId"},"Student id"),s.a.createElement("input",{id:"entityId",name:"entityId",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.entityId,disabled:!0,style:{width:"50px"}}),t.touched.entityId&&t.errors.entityId?s.a.createElement("div",null,t.errors.entityId):null),s.a.createElement("label",{htmlFor:"firstName"},"First name"),s.a.createElement("input",{id:"firstName",name:"firstName",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.firstName,disabled:"display"===e.formMode}),t.touched.firstName&&t.errors.firstName?s.a.createElement("div",null,t.errors.firstName):null,s.a.createElement("label",{htmlFor:"lastName"},"Last name"),s.a.createElement("input",{id:"lastName",name:"lastName",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.lastName,disabled:"display"===e.formMode}),t.touched.lastName&&t.errors.lastName?s.a.createElement("div",null,t.errors.lastName):null,s.a.createElement("label",{htmlFor:"lastName"},"Email"),s.a.createElement("input",{id:"email",name:"email",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.email,disabled:"display"===e.formMode}),t.touched.email&&t.errors.email?s.a.createElement("div",null,t.errors.email):null,"display"!==e.formMode&&s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{onClick:function(){return e.cancel()}},"Cancel"),s.a.createElement("button",{type:"submit"},"Save")),e.canEdit&&"display"===e.formMode&&s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{onClick:function(){return e.edit()}},"Edit"),s.a.createElement("button",{onClick:function(){return e.remove()}},"Remove")))},Fe=function(e){var t=Me(),n=t.state,r=t.dispatch,a=n.student,o=n.formMode,u=n.canEdit,i="";switch(n.formMode){case"display":i="Student";break;case"edit":i="Edit Student";break;case"add":i="New Student"}return s.a.createElement("div",{className:"formik-example formik-example--blue"},a&&s.a.createElement("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"10px"}},s.a.createElement("h4",{style:{marginTop:0}},i),s.a.createElement(We,Object.assign({},e,{student:a,formMode:o,canEdit:u,cancel:function(){return r({type:me.STUDENT_CANCEL})},saveForm:function(e){return r(function(e){return{type:me.STUDENT_STORE,student:e}}(e))},edit:function(){return r(Ae(a.entityId))},remove:function(){return r(Re(a.entityId))}}))))},Pe=function(e){return s.a.createElement(De,null,s.a.createElement("div",{className:"two-columns"},s.a.createElement("div",{className:"a"},s.a.createElement(Le,{query:"all"})),s.a.createElement("div",{className:"b"},s.a.createElement(Fe,null))))},Ve=(n(302),n(47)),Be=(we.base,we.black,Object(a.a)(we,["base","black"]));Object.keys(Be).forEach((function(e){Ve.css.global(".formik-example.formik-example--".concat(e," button[type='submit'],\n\t.formik-example.formik-example--").concat(e," button.primary"),{background:we[e][5]}),Ve.css.global(".formik-example.formik-example--".concat(e," button[type='submit']:focus,\n\t  .formik-example.formik-example--").concat(e," button.primary:focus"),{background:we[e][6]}),Ve.css.global(".formik-example.formik-example--".concat(e," button[type='submit']:active,\n\t  .formik-example.formik-example--").concat(e," button.primary:active"),{background:we[e][7]}),Ve.css.global(".formik-example.formik-example--".concat(e," input:focus, .formik-example.formik-example--").concat(e," select:focus"),{borderColor:we[e][4],boxShadow:"inset 0 1px 1px rgba(0, 0, 0, 0.075),0 0 0 3px ".concat(we[e][1]),outline:"none"})}));var He=Object(d.d)(W,void 0,Object(d.a)(m.a));He.dispatch((function(e){var t,n,a;return g.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,t=!1,S()&&null!==(n=localStorage.getItem(T))&&(N=JSON.parse(n),t=!0),t||(N=x),o.next=6,g.a.awrap(y());case 6:a=o.sent,e({type:r.GET_ALL_QUESTIONS,questionGroups:JSON.parse(JSON.stringify(a.data.results))}),o.next=13;break;case 10:o.prev=10,o.t0=o.catch(0),console.error(o.t0);case 13:case"end":return o.stop()}}),null,null,[[0,10]])})),He.dispatch((function(e){var t,n;return g.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,R()&&null!==(t=localStorage.getItem(U))?JSON.parse(t).map((function(e){return D.push(e)})):M.map((function(e){return D.push(e)})),r.next=4,g.a.awrap(j());case 4:n=r.sent,e({type:v.GET_ALL_ANSWERS,answers:n.data.results}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),console.error(r.t0);case 11:case"end":return r.stop()}}),null,null,[[0,8]])})),u.render(s.a.createElement((function(e){return s.a.createElement(l.a,{store:e.store},s.a.createElement(i.a,null,s.a.createElement("nav",null,s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement(i.b,{to:"/"},"Supporter")),s.a.createElement("li",null,s.a.createElement(i.b,{to:"/questions"},"Questions")),s.a.createElement("li",null,s.a.createElement(i.b,{to:"/answers/pera"},"Answers")),s.a.createElement("li",{className:"push-right"},s.a.createElement(i.b,{to:"/answers/pera"},"Sign In")))),s.a.createElement("div",null,s.a.createElement(c.c,null,s.a.createElement(c.a,{exact:!0,path:"/"},s.a.createElement(Oe,null)),s.a.createElement(c.a,{path:"/questions"},s.a.createElement(be.questions,{canEdit:!0})),s.a.createElement(c.a,{path:"/answers/:slug"},s.a.createElement(xe,null)),s.a.createElement(c.a,{path:"/crud"},s.a.createElement(Pe,null))))))}),{store:He}),document.getElementById("root"))},94:function(e,t,n){}},[[143,1,2]]]);
//# sourceMappingURL=main.72f19656.chunk.js.map