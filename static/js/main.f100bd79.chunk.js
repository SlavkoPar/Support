(this.webpackJsonpsupport=this.webpackJsonpsupport||[]).push([[0],{121:function(e,t,n){e.exports=n(274)},130:function(e,t,n){},131:function(e,t,n){},144:function(e,t,n){},274:function(e,t,n){"use strict";n.r(t);var r,s=n(0),o=n.n(s),i=n(40),u=n(43),a=n(23),l=n(108),c=n(27),d=n(9),g=n.n(d);!function(e){e.GET_ALL_QUESTIONS="GET_ALL_QUESTIONS",e.GET_QUESTION="GET_QUESTION",e.GET_ANSWERS="GET_ANSWERS"}(r||(r={}));var h,m=function(){return new Promise((function(e,t){setTimeout((function(){e({status:200,"content-type":"application/json",data:{results:f}})}),250)}))},v=function(e){return new Promise((function(t,n){setTimeout((function(){var n=void 0,r=!0,s=!1,o=void 0;try{for(var i,u=f[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){if(void 0!==(n=i.value.questions.find((function(t){return t.questionId===e}))))break}}catch(a){s=!0,o=a}finally{try{r||null==u.return||u.return()}finally{if(s)throw o}}t({status:200,"content-type":"application/json",data:{results:n}})}),250)}))},f=[{title:"General settings",questions:[{questionId:11,text:"Why promocode hasn't been applied?",words:[],answers:[111,112,114]}]},{title:"Taxes",questions:[{questionId:21,text:"Which promocode do we apply?",words:[],answers:[]},{questionId:22,text:"Which promocode for client do we apply?",words:[],answers:[111]}]},{title:"Client settings",questions:[{questionId:31,text:"Does client has promocode",words:[],answers:[222]},{questionId:32,text:"Python",words:[],answers:[]},{questionId:33,text:"Java",words:[],answers:[111,114]},{questionId:34,text:"Javascript",words:[],answers:[113]},{questionId:35,text:"PHP",words:[],answers:[111]},{questionId:36,text:"Ruby",words:[],answers:[222]}]}],p={questionGroups:[],question:void 0,loading:!1};!function(e){e.GET_ALL_ANSWERS="GET_ALL_ANSWERS",e.GET_ANSWER="GET_ANSWER"}(h||(h={}));var S=function(){return new Promise((function(e,t){setTimeout((function(){e({status:200,"content-type":"application/json",data:{results:E}})}),50)}))},E=[{answerId:111,text:"You should do the following",options:[]},{answerId:112,text:"Also do the rest of important",options:[]},{answerId:113,text:"Try something else",options:[]},{answerId:114,text:"Contact our support",options:[]}],q={answers:[],loading:!1},w=Object(a.c)({questionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.GET_ALL_QUESTIONS:var n=!0,s=!1,o=void 0;try{for(var i,u=t.questionGroups[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var a=i.value,l=!0,d=!1,g=void 0;try{for(var h,m=a.questions[Symbol.iterator]();!(l=(h=m.next()).done);l=!0){var v=h.value;v.words=v.text.split(" ")}}catch(f){d=!0,g=f}finally{try{l||null==m.return||m.return()}finally{if(d)throw g}}}}catch(f){s=!0,o=f}finally{try{n||null==u.return||u.return()}finally{if(s)throw o}}return Object(c.a)({},e,{questionGroups:t.questionGroups});case r.GET_QUESTION:return Object(c.a)({},e,{question:t.question});default:return e}},answerState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.GET_ALL_ANSWERS:return Object(c.a)({},e,{answers:t.answers});default:return e}}});n(130),n(131);var y=n(119),x=n(109),b=n(110),T=n(118),I=n(111),G=n(120),N=n(112),A=n.n(N),_=n(113),k=n.n(_),O=n(114),R=n.n(O);n(144);var j=A.a,C=function(e){function t(e){var n;return Object(x.a)(this,t),(n=Object(T.a)(this,Object(I.a)(t).call(this,e))).state=void 0,n.onSuggestionsClearRequested=function(){n.setState({suggestions:[]})},n.anyWord=function(e,t){var n=!0,r=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var u=o.value,a=!0,l=!1,c=void 0;try{for(var d,g=t[Symbol.iterator]();!(a=(d=g.next()).done);a=!0){var h=d.value;if(u.test(h))return!0}}catch(m){l=!0,c=m}finally{try{a||null==g.return||g.return()}finally{if(l)throw c}}}}catch(m){r=!0,s=m}finally{try{n||null==i.return||i.return()}finally{if(r)throw s}}return!1},n.state={value:"",suggestions:n.getSuggestions(""),highlighted:""},n}return Object(G.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.value,r=t.suggestions;return s.createElement(j,{onSuggestionsClearRequested:this.onSuggestionsClearRequested,multiSection:!0,suggestions:r,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested.bind(this),onSuggestionSelected:this.onSuggestionSelected.bind(this),getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,renderSectionTitle:this.renderSectionTitle,getSectionSuggestions:this.getSectionSuggestions,onSuggestionHighlighted:this.onSuggestionHighlighted.bind(this),highlightFirstSuggestion:!0,renderSuggestionsContainer:this.renderSuggestionsContainer,inputProps:{placeholder:"Type 'promocode'",value:n,onChange:function(t,n){return e.onChange(t,n)}}})}},{key:"onSuggestionSelected",value:function(e,t){var n=t.suggestion;this.props.onSelectQuestion(n.questionId)}},{key:"renderSuggestion",value:function(e,t){var n=k()(e.text,t.query),r=R()(e.text,n);return s.createElement("span",null,r.map((function(e,t){var n=e.highlight?"react-autosuggest__suggestion-match":void 0;return s.createElement("span",{className:n,key:t},e.text)})))}},{key:"renderSectionTitle",value:function(e){return s.createElement("strong",null,e.title)}},{key:"renderInputComponent",value:function(e){e.onChange,e.onBlur;var t=Object(y.a)(e,["onChange","onBlur"]);return s.createElement("div",null,s.createElement("input",t))}},{key:"renderSuggestionsContainer",value:function(e){var t=e.containerProps,n=e.children;e.query;return s.createElement("div",t,s.createElement("span",null,n))}},{key:"onChange",value:function(e,t){var n=t.newValue;t.method;this.setState({value:n})}},{key:"onSuggestionsFetchRequested",value:function(e){var t=e.value;this.setState({suggestions:this.getSuggestions(t)})}},{key:"getSuggestions",value:function(e){var t=this,n=e.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(""===n)return[];var r=n.split(" ").map((function(e){return new RegExp(e,"i")}));return this.props.questionGroups.map((function(e){return{title:e.title,questions:e.questions.filter((function(e){return t.anyWord(r,e.words)}))}})).filter((function(e){return e.questions.length>0}))}},{key:"getSuggestionValue",value:function(e){return e.text}},{key:"getSectionSuggestions",value:function(e){return e.questions}},{key:"onSuggestionHighlighted",value:function(e){this.setState({highlighted:e.suggestion})}}]),t}(s.Component),L=n(117),Q=n(28),W=function(e){e.question;var t=e.questionAnswers;return s.createElement("div",{className:"name-container"},0===t.length&&s.createElement("div",null,"No answers yet"),t.length>0&&s.createElement("table",null,s.createElement("thead",null,s.createElement("th",null,"Answer"),s.createElement("th",null),s.createElement("th",null)),s.createElement("tbody",null,t.map((function(e){return s.createElement("tr",null,s.createElement("td",{key:e.answerId,className:"name"},e.text),s.createElement("td",null,"edit"),s.createElement("td",null,"remove"))})))))},P=function(e){var t=Object(L.a)({enableReinitialize:!0,initialValues:{text:e.question.text,answers:e.question.answers,email:""},validationSchema:Q.object({text:Q.string().max(150,"Must be 150 characters or less").required("Required"),answers:Q.string().max(20,"Must be 20 characters or less").required("Required"),email:Q.string().email("Invalid email address").required("Required")}),onSubmit:function(e){alert(JSON.stringify(e,null,2))}});return o.a.createElement("form",{onSubmit:t.handleSubmit},o.a.createElement("label",{htmlFor:"text"}),o.a.createElement("input",{id:"text",name:"text",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.text}),t.touched.text&&t.errors.text?o.a.createElement("div",null,t.errors.text):null,o.a.createElement("h4",null,"Answers"),o.a.createElement(W,{question:e.question,questionAnswers:e.questionAnswers}))},U=function(e){var t=e.questionGroups,n=e.question,r=e.questionAnswers,o=e.onSelectQuestion;return s.createElement("div",{className:"name-container"},s.createElement(C,{questionGroups:t,onSelectQuestion:o}),s.createElement("hr",null),s.createElement("div",{className:"two-columns"},s.createElement("div",{className:"a"},s.createElement("h3",null,"Questions"),t&&t.map((function(e){return s.createElement("div",{key:e.title},s.createElement("div",null,e.title),s.createElement("div",null,e.questions.map((function(e){return s.createElement("div",{key:e.questionId,className:"name"},s.createElement("button",{className:"question-button",onClick:function(){return o(e.questionId)}},e.text))}))))}))),s.createElement("div",{className:"b"},t&&n&&s.createElement("div",null,s.createElement("h3",null,"Question"),s.createElement(P,{question:n,questionAnswers:r})))))},F=function(e,t){if(void 0===e||0===e.answers.length||void 0===t)return[];var n=e.answers;return t.filter((function(e){return n.includes(e.answerId)}))},B=Object(u.b)((function(e){return{questionGroups:e.questionState.questionGroups,question:e.questionState.question,questionAnswers:F(e.questionState.question,e.answerState.answers)}}),(function(e){return{onSelectQuestion:function(t){return e(function(e){return function(t){var n;return g.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,g.a.awrap(v(e));case 3:n=s.sent,t({type:r.GET_QUESTION,question:n.data.results}),s.next=10;break;case 7:s.prev=7,s.t0=s.catch(0),console.error(s.t0);case 10:case"end":return s.stop()}}),null,null,[[0,7]])}}(t))}}}))(U),J=function(){return s.createElement(s.Fragment,null,s.createElement("h1",null,"Questions & Answers"),s.createElement(B,null))},V=Object(a.d)(w,void 0,Object(a.a)(l.a));V.dispatch((function(e){var t;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.a.awrap(m());case 3:t=n.sent,e({type:r.GET_ALL_QUESTIONS,questionGroups:t.data.results}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]])})),V.dispatch((function(e){var t;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.a.awrap(S());case 3:t=n.sent,e({type:h.GET_ALL_ANSWERS,answers:t.data.results}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]])})),i.render(s.createElement((function(e){return s.createElement(u.a,{store:e.store},s.createElement(J,null))}),{store:V}),document.getElementById("root"))}},[[121,1,2]]]);
//# sourceMappingURL=main.f100bd79.chunk.js.map